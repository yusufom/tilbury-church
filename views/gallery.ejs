<!DOCTYPE html>
<html class="no-js" lang="en">

<%- include('partials/head/header.ejs'); %>

    <body>

        <%- include('partials/head/menubar.ejs'); %>

            <div class="page-header">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-12">
                            <div class="page-header-box">
                                <h1 class="text-anime-style-2" data-cursor="-opaque">Our Gallery</h1>
                                <nav class="wow fadeInUp">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="#">home</a></li>
                                        <li class="breadcrumb-item active" aria-current="page">Our Gallery</li>
                                    </ol>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Category Filter Section -->
            <div class="gallery-filter-section" style="background: #f8f9fa; padding: 30px 0;">
                <div class="container">
                    <div class="category-filters"
                        style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                        <% const allBtnStyle = activeCategory === 'all'
                            ? 'padding: 10px 25px; border-radius: 25px; text-decoration: none; background: #f4a261; color: #fff; border: 2px solid #f4a261; transition: all 0.3s;'
                            : 'padding: 10px 25px; border-radius: 25px; text-decoration: none; background: #fff; color: #333; border: 2px solid #f4a261; transition: all 0.3s;';
                        %>
                        <a href="/gallery?category=all" style="<%= allBtnStyle %>">
                            All Photos
                        </a>
                        <% if(typeof categories !== "undefined" && categories.length > 0){ %>
                            <% categories.forEach(cat => {
                                const btnStyle = activeCategory === cat.slug
                                    ? 'padding: 10px 25px; border-radius: 25px; text-decoration: none; background: #f4a261; color: #fff; border: 2px solid #f4a261; transition: all 0.3s;'
                                    : 'padding: 10px 25px; border-radius: 25px; text-decoration: none; background: #fff; color: #333; border: 2px solid #f4a261; transition: all 0.3s;';
                            %>
                                <a href="/gallery?category=<%= cat.slug %>" style="<%= btnStyle %>">
                                    <%= cat.name %>
                                </a>
                            <% }) %>
                        <% } %>
                    </div>
                </div>
            </div>

            <style>
                .filter-btn:hover,
                a[href*="category"]:hover {
                    background: #f4a261 !important;
                    color: #fff !important;
                    transform: translateY(-2px);
                    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                }
                
                .photo-gallery {
                    position: relative;
                }
                
                .photo-gallery:hover img {
                    transform: scale(1.05);
                }
            </style>

            <div class="page-gallery">
                <div class="container">
                    <div class="row gallery-items page-gallery-box">
                        <% if(typeof gallery !== "undefined" && gallery.length > 0){ %>
                            <% gallery.forEach(gal => { %>
                                <% let Image = JSON.parse(gal.picture) %>
                                <div class="col-lg-4 col-md-6 col-12 mb-4">
                                    <div class="photo-gallery wow fadeInUp" data-cursor-text="View">
                                        <a href="/images/gallery/<%= Image.filename %>" data-lightbox="gallery"
                                            data-title="<%= gal.description || '' %>">
                                            <figure class="image-anime"
                                                style="margin: 0; overflow: hidden; border-radius: 10px;">
                                                <img src="/images/gallery/<%= Image.filename %>"
                                                    alt="<%= gal.description || '' %>"
                                                    style="width: 100%; height: 300px; object-fit: cover; transition: transform 0.3s;">
                                            </figure>
                                        </a>
                                        <!-- <% if(gal.category) { %>
                                            <span class="category-badge" style="position: absolute; top: 10px; right: 10px; 
                                                background: rgba(244, 162, 97, 0.9); color: white; padding: 5px 15px; 
                                                border-radius: 15px; font-size: 12px;">
                                                <%= gal.category.name %>
                                            </span>
                                        <% } %> -->
                                    </div>
                                </div>
                            <% }) %>
                        <% } else { %>
                            <div class="col-12">
                                <p style="text-align: center; padding: 50px 0; color: #666;">
                                    No photos found in this category.
                                </p>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
            
            <%- include('partials/head/footer.ejs'); %>

    </body>

</html>
